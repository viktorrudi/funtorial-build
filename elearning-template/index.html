<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Front page</title>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css"
    />
    <!-- Main style -->
    <link rel="stylesheet" href="dist/main.css" />
  </head>

  <body>
    <nav class="navbar navbar-expand-lg fixed-top">
      <div class="container">
        <a class="navbar-brand" href="#">
          <img class="navbar-logo" src="img/ft-logo.png" alt="" />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarContent"
          aria-controls="navbarContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"><i class="fas fa-bars"></i></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarContent">
          <ul class="navbar-nav mr-auto"></ul>
          <ul class="nav-right navbar-nav">
            <li class="nav-register nav-item">
              <a href="#" class="nav-link">Register</a>
            </li>
            <li class="nav-login nav-item">
              <a href="#" class="nav-link">Login</a>
            </li>

            <span class="vertical-line"></span>

            <div class="dropdown show dropdown-lang">
              <!-- LANGUAGE SELECTION BAR -->
              <!-- This anchor is for the selected language. Leave # for the anchor -->
              <a
                class="btn dropdown-toggle"
                href="#"
                id="1"
                data-country-code="en"
                data-toggle="dropdown"
                data-target="dropdown__languages"
                ><span class="flag-wrapper">
                  <!-- Insert flag link into data -->
                  <object
                    class="navbar-flag-selected"
                    data="./img/flags/gb.svg"
                    type="image/svg+xml"
                  ></object>
                </span>
                English
              </a>

              <!-- Hidden box containing the rest of the available languages -->
              <div
                id="dropdown__languages"
                class="dropdown-menu dropdown-menu-right"
              >
                <!-- Starting available languages (each anchor). Anchor should lead to language version -->
                <a class="dropdown-item" href="#" id="1" data-country-code="no">
                  <span class="flag-wrapper">
                    <!-- Insert flag link into data -->
                    <object
                      class="navbar-flag-selected"
                      data="./img/flags/no.svg"
                      type="image/svg+xml"
                    ></object>
                  </span>
                  Norwegian
                </a>
                <!-- Ending available languages (anchor) -->
              </div>
              <!-- Hidden box ending (for available languages) -->
              <!-- LANGUAGE SELECTION BAR ENDING -->
            </div>
          </ul>
        </div>
      </div>
    </nav>
    <main class="index">
      <div class="container-fluid heading--wrapper">
        <div class="container">
          <div class="row heading">
            <div class="col-md-12">
              <!-- Heading -->
              <div class="row">
                <div class="col-md-12 heading__content">
                  <div class="row">
                    <div class="col-md-6 heading__hello">
                      <h1>
                        Have fun,<br />learn languages,<br />get discounts!
                      </h1>
                      <p>
                        Funtorial is an onilne learning platform where you can
                        complete language courses and earn credits to get
                        amazing deals.
                      </p>
                      <!-- Link login/register  -->
                      <a href="#" class="btn heading__btn--cta">
                        Start learning!
                      </a>
                    </div>
                    <!-- Images dynamically loaded in. Picks up images from img folder. Will update them later. -->
                    <div class="col-md-6 heading__slideshow">
                      <div class="heading__slideshow--current"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="container">
        <!-- Step 1 - pick topic -->
        <div class="row step step-index">
          <div id="step1" class="col-sm-12 step__one">
            <!-- Step 1 - heading -->
            <div class="row">
              <div class="col-sm-12 step__intro">
                <h1 class="text-center">What do you want to learn first?</h1>

                <h3 class="text-center">
                  <span class="step__intro--number">1</span>Choose a topic to
                  get started
                </h3>
              </div>
            </div>

            <!-- Step 1 - select category -->
            <div class="row step__topics step__one">
              <!-- Category 1 - LANGUAGES -->
              <div class="step__topics-box topic-languages">
                <div class="step__topics-box--fade"></div>
                <div class="category-icon">
                  <object
                    data="./img/front_page/category_languages.svg"
                    type="image/svg+xml"
                  ></object>
                </div>
                <!-- Category heading -->
                <h2>Languages</h2>
                <!-- The counter is created in js/front_page.js, and pushed to the <strong> below -->
                <p>
                  Pick between one of our
                  <strong class="step__topics-counter--languages"></strong>
                  languages
                </p>
                <div class="step__topics-selection">
                  <div class="row step__topics-feed--language">
                    <div class="col-sm-6 topic" id="1">
                      <!-- Link wrapping the name of the exercise. Also contains tooltip -->
                      <a
                        href="#"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-original-title="American English (tooltip)"
                      >
                        <!-- URL should lead to icon (if available), such as flags in the img/flags folder -->
                        <span
                          class="step__topics--image"
                          style="background-image: url('img/flags/gb.svg')"
                        ></span>
                        English
                      </a>
                    </div>
                  </div>
                </div>
                <!-- Link to topic selection (or login/signup) -->
                <a href="#" class="step__topics-box--see-all"
                  >See all languages</a
                >
              </div>

              <!-- Category 2 - School topics -->
              <div class="step__topics-box topic-school">
                <div class="step__topics-box--fade"></div>
                <div class="category-icon">
                  <object
                    data="./img/front_page/category_school-topics.svg"
                    type="image/svg+xml"
                  ></object>
                </div>
                <!-- Category heading -->
                <h2>School topics</h2>
                <!-- The counter is created in js/front_page.js, and pushed to the <strong> below -->
                <p>
                  Pick between one of our
                  <strong class="step__topics-counter--school-topics"></strong>
                  languages
                </p>
                <div class="step__topics-selection">
                  <div class="row step__topics-feed--school-topic">
                    <!-- Feed for topics -->
                    <div class="col-sm-6 topic" id="10">
                      <!-- Link wrapping the name of the exercise. Also contains tooltip -->
                      <a
                        href="#"
                        data-toggle="tooltip"
                        data-placement="top"
                        title=""
                        data-original-title="Biochemistry advanced topics (tooltip)"
                      >
                        <!-- If no URL is specified for the background image, it will use the color of the category -->
                        <!-- <span
                          class="step__topics--image"
                          style="background-image: url('')"
                        ></span> -->
                        <object
                          class="step__topics--icon"
                          data="./img/div_icons/category/school-topic.svg"
                          type="image/svg+xml"
                        ></object>
                        Biochemistry
                      </a>
                    </div>
                  </div>
                </div>
                <!-- Link to topic selection (or login/signup) -->
                <a href="#" class="step__topics-box--see-all">See all topics</a>
              </div>

              <!-- Category 3 - Quizzes -->
              <div class="step__topics-box topic-quizzes">
                <div class="step__topics-box--fade"></div>
                <div class="category-icon">
                  <object
                    data="./img/front_page/category_quizzes.svg"
                    type="image/svg+xml"
                  ></object>
                </div>

                <!-- Category heading -->
                <h2>Quizzes</h2>
                <!-- The counter is created in js/front_page.js, and pushed to the <strong> below -->
                <p>
                  Pick between one of our
                  <strong class="step__topics-counter--quizzes"></strong>
                  languages
                </p>
                <div class="step__topics-selection">
                  <div class="row step__topics-feed--quiz">
                    <!-- Feed for topics -->
                    <div class="col-sm-6 topic" id="16">
                      <!-- Link wrapping the name of the exercise. Also contains tooltip -->
                      <a
                        href="#"
                        data-toggle="tooltip"
                        data-placement="top"
                        title=""
                        data-original-title="Example (tooltip)"
                      >
                        <!-- If no URL is specified for the background image, it will use the color of the category -->
                        <object
                          class="step__topics--icon"
                          data="./img/div_icons/category/quiz.svg"
                          type="image/svg+xml"
                        ></object>
                        A good quiz
                      </a>
                    </div>
                  </div>
                </div>
                <!-- Link to topic selection (or login/signup) -->
                <a href="#" class="step__topics-box--see-all"
                  >See all quizzes</a
                >
              </div>
            </div>
          </div>
        </div>

        <!-- Step 2 - choose right answer -->
        <div class="row no-gutters step step__two">
          <div class="col-md-6 step__intro">
            <div class="col-md-10 no-gutter">
              <h1>
                <span class="step__intro--number">2</span>
                Choose the right answer and earn credits!
              </h1>
              <p>
                Funtorial is an onilne learning platform where you can complete
                language courses and earn credits to get amazing deals.
              </p>
            </div>
          </div>
          <div class="col-md-6 step__illustration">
            <img
              src="./img/front_page/EN-front-page-choosecorrect.svg"
              class="img-fluid"
              alt="Choose the right answer and earn credits!"
            />
          </div>
        </div>

        <!-- Step 3 - choose right answer -->
        <div class="row no-gutters step step__three">
          <div class="col-md-6  step__illustration">
            <img
              src="./img/front_page/front_piggie_green-labels.svg"
              class="img-fluid"
              alt="Choose the right answer and earn credits!"
            />
          </div>
          <div class="col-md-6 step__intro">
            <h1 class="text-right">
              <span class="step__intro--number">3</span>
              Use the credits to get discounts up to
              <span class="yellow-text">70%</span> on awesome stuff!
            </h1>
            <p class="text-right">
              Funtorial is an onilne learning platform where you can complete
              language courses and earn credits to get amazing deals.
            </p>
          </div>
        </div>
      </div>

      <!-- Second CTA -->
      <div class="container-fluid second-cta">
        <div class="container">
          <div class="row">
            <div class="col-md-12">
              <h1 class="text-center">What are you waiting for?</h1>
              <!-- Link login/register  -->
              <a href="#" class="btn second-cta__btn">
                Get started
              </a>
            </div>
          </div>
        </div>
      </div>
    </main>

    <div id="footer">
      <div class="container">
        <div class="row">
          <div class="col-sm-3">
            <ul class="nav flex-column">
              <li class="nav-item">
                <a class="nav-link" href="/o-nas">O nás</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/kontakt">Kontakt</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/nabidnete-slevy">Nabídněte slevy</a>
              </li>
            </ul>
          </div>
          <div class="col-sm-3">
            <ul class="nav flex-column">
              <li class="nav-item">
                <a class="nav-link" href="/spoluprace">Spolupráce</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/podporte-nas">Podpořte nás</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/pravidla">Pravidla použití webu</a>
              </li>
            </ul>
          </div>
          <div class="col-sm-6">
            <ul class="nav justify-content-end">
              <li class="nav-item">
                <a href="#" class="nav-link" target="_blank"
                  ><i class="fab fa-facebook fa-2x"></i
                ></a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link" target="_blank"
                  ><i class="fab fa-twitter-square fa-2x"></i
                ></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/"
                  ><img
                    src="img/ft-logo.png"
                    alt="logo"
                    class="img-fluid"
                    width="120"
                /></a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <!--/#footer-->

    <div id="small-footer">
      <div class="container">
        <div class="row">
          <div class="col-sm-12 text-center">
            <p>
              <a href="#">Copyright &copy; 2019 funtorial.com</a>
            </p>
          </div>
        </div>
      </div>
    </div>
    <!--/#small-footer-->

    <!-- JS -->
    <script src="dist/bundle.js"></script>

    <script>
      function frontPageFunctions() {
        function slideShow() {
          let curIndex = 0,
            imgDuration = 3000,
            slider = document.querySelector('.heading__slideshow--current'),
            slides = slider.childNodes,
            imgArray = [
              './img/front_page/slide1.png',
              './img/front_page/slide2.png',
              './img/front_page/slide3.png',
            ]

          function buildSlideShow(arr) {
            for (let i = 0; i < arr.length; i++) {
              const img = document.createElement('img')
              img.src = arr[i]
              slider.appendChild(img)
            }
          }

          function slideShow() {
            function fadeIn(e) {
              e.className = 'fadeIn'
            }

            function fadeOut(e) {
              e.className = ''
            }

            fadeOut(slides[curIndex])
            curIndex++
            if (curIndex == slides.length) {
              curIndex = 0
            }

            fadeIn(slides[curIndex])

            setTimeout(function() {
              slideShow()
            }, imgDuration)
          }

          buildSlideShow(imgArray)
          slideShow()
        }

        function setStep1Height() {
          // To make space for step 2
          const step1HeightGet = document.querySelector('.step__topics')
            .offsetHeight
          const step2Container = document.querySelector('.step__two')
          step2Container.style.marginTop = `${step1HeightGet + 90}px`
        }

        function topicCounter() {
          // Inserts number of how many topics are available on the front page
          const languagesCount = document.querySelector(
            '.step__topics-feed--language'
          ).childElementCount
          const schoolCount = document.querySelector(
            '.step__topics-feed--school-topic'
          ).childElementCount
          const quizzesCount = document.querySelector(
            '.step__topics-feed--quiz'
          ).childElementCount

          document.querySelector(
            '.step__topics-counter--languages'
          ).innerHTML = languagesCount
          document.querySelector(
            '.step__topics-counter--school-topics'
          ).innerHTML = schoolCount
          document.querySelector(
            '.step__topics-counter--quizzes'
          ).innerHTML = quizzesCount
        }

        function hideIfEmpty() {
          const categoryHolders = Array.from(
            document.querySelectorAll(
              '.step__topics-box .step__topics-selection .row'
            )
          )
          categoryHolders.map(category => {
            if (category.childElementCount === 0) {
              const wrapper = category.parentElement.parentElement
              wrapper.style.display = 'none'
            }
          })
        }

        slideShow()
        topicCounter()
        setStep1Height()
        hideIfEmpty()
      }

      frontPageFunctions()

      // Contains bootstrap utilities (jquery)
      $(function() {
        $('[data-toggle="tooltip"]').tooltip()
        $('[data-toggle="popover"]').popover()
      })
    </script>
  </body>
</html>
